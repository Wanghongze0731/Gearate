function spawnIcon(){"compass"!==(iconWrap=new IconWrapper("ice_scan",720,480)).getMode()?window.modelReady=!1:window.modelReady=!0,window.autoStart?($("#wrapper .inner-wrap").css({height:window.innerHeight+"px"}),iconWrap.positionCentered(),preparePage()):(iconWrap.positionFree(Math.random()*window.innerWidth,2e3),iconWrap.onClick((function(){"compass"===iconWrap.getMode()&&iconWrap.setAutoSpin(!0),preparePage()})))}function initializeUA(){window.loadStartTime=(new Date).getTime(),$("#header, #footer-nav").stop().fadeOut("fast");var n=document.createElement("script");n.setAttribute("src","./assets/app-ua.js"),document.head.appendChild(n)}function preparePage(){function n(){$("body").append('<div id="ua-loading-text">Loading...</div>');var n=$("#ua-loading-text");n.addClass("pulsing"),pulse(n,800,"linear",{opacity:.25},{opacity:1},(function(){return 0==n.hasClass("pulsing")}))}clearInterval(window.blogHeightIntervalId),$("body").css("overflow","hidden"),$("#content").css({position:"relative",top:"0",left:"0"}),$("#uncertain").remove(),$("#wrapper .inner-wrap").prepend('<div id="uncertain"></div>'),$("#uncertain").css({position:"fixed",top:"0",left:"0",width:"100%",height:"100%"}),window.autoStart&&n(),$("#content").fadeTo(800,0,(function(){if($(this).css("visibility","hidden"),!window.autoStart){iconWrap.animateToCenter(),n();var e=window.addKioskToUrl("/uncertain");window.history.pushState(null,"Studio Olafur Eliasson",e),triggerGoogleAnalytics()}initializeUA()}))}function pulse(n,e,t,o,i,r){n.animate(o,e,t,(function(){0==r()&&pulse(n,e,t,i,o,r)}))}function triggerGoogleAnalytics(){$("script").each((function(){if(-1!==$(this).text().indexOf("GoogleAnalyticsObject"))return $("head").append($(this).clone()),$(this).remove(),!1}))}!function(n){var e=n.event.dispatch||n.event.handle,t=n.event.special,o="D"+ +new Date,i="D"+(+new Date+1);t.scrollstart={setup:function(i){var r,a=n.extend({latency:t.scrollstop.latency},i),s=function(n){var t=this,o=arguments;r?clearTimeout(r):(n.type="scrollstart",e.apply(t,o)),r=setTimeout((function(){r=null}),a.latency)};n(this).bind("scroll",s).data(o,s)},teardown:function(){n(this).unbind("scroll",n(this).data(o))}},t.scrollstop={latency:250,setup:function(o){var r,a=n.extend({latency:t.scrollstop.latency},o),s=function(n){var t=this,o=arguments;r&&clearTimeout(r),r=setTimeout((function(){r=null,n.type="scrollstop",e.apply(t,o)}),a.latency)};n(this).bind("scroll",s).data(i,s)},teardown:function(){n(this).unbind("scroll",n(this).data(i))}}}(jQuery),function(n){var e=/iPhone/i,t=/iPod/i,o=/iPad/i,i=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,r=/Android/i,a=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,s=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,c=/IEMobile/i,u=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,d=/BlackBerry/i,l=/BB10/i,p=/Opera Mini/i,h=/(CriOS|Chrome)(?=.*\bMobile\b)/i,f=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,w=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),v=function(n,e){return n.test(e)},m=function(n){var m=n||navigator.userAgent,y=m.split("[FBAN");return void 0!==y[1]&&(m=y[0]),void 0!==(y=m.split("Twitter"))[1]&&(m=y[0]),this.apple={phone:v(e,m),ipod:v(t,m),tablet:!v(e,m)&&v(o,m),device:v(e,m)||v(t,m)||v(o,m)},this.amazon={phone:v(a,m),tablet:!v(a,m)&&v(s,m),device:v(a,m)||v(s,m)},this.android={phone:v(a,m)||v(i,m),tablet:!v(a,m)&&!v(i,m)&&(v(s,m)||v(r,m)),device:v(a,m)||v(s,m)||v(i,m)||v(r,m)},this.windows={phone:v(c,m),tablet:v(u,m),device:v(c,m)||v(u,m)},this.other={blackberry:v(d,m),blackberry10:v(l,m),opera:v(p,m),firefox:v(f,m),chrome:v(h,m),device:v(d,m)||v(l,m)||v(p,m)||v(f,m)||v(h,m)},this.seven_inch=v(w,m),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},y=function(){var n=new m;return n.Class=m,n};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=m:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=y():"function"==typeof define&&define.amd?define("isMobile",[],n.isMobile=y()):n.isMobile=y()}(this);var TWEEN=TWEEN||function(){var n=[];return{REVISION:"9",getAll:function(){return n},removeAll:function(){n=[]},add:function(e){n.push(e)},remove:function(e){-1!==(e=n.indexOf(e))&&n.splice(e,1)},update:function(e){if(0===n.length)return!1;var t=0,o=n.length;for(e=void 0!==e?e:void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();t<o;)n[t].update(e)?t++:(n.splice(t,1),o--);return!0}}}();TWEEN.Tween=function(n){var e={},t={},o={},i=1e3,r=0,a=0,s=null,c=TWEEN.Easing.Linear.None,u=TWEEN.Interpolation.Linear,d=[],l=null,p=!1,h=null,f=null;this.to=function(n,e){return void 0!==e&&(i=e),t=n,this},this.start=function(i){for(var r in TWEEN.add(this),p=!1,s=void 0!==i?i:void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),s+=a,t)if(!1!=r in n&&null!==n[r]){if(t[r]instanceof Array){if(0===t[r].length)continue;t[r]=[n[r]].concat(t[r])}e[r]=n[r],0==e[r]instanceof Array&&(e[r]*=1),o[r]=e[r]}return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(n){return a=n,this},this.repeat=function(n){return r=n,this},this.easing=function(n){return c=n,this},this.interpolation=function(n){return u=n,this},this.chain=function(){return d=arguments,this},this.onStart=function(n){return l=n,this},this.onUpdate=function(n){return h=n,this},this.onComplete=function(n){return f=n,this},this.update=function(w){if(w<s)return!0;!1===p&&(null!==l&&l.call(n),p=!0);var v,m,y=c(v=1<(v=(w-s)/i)?1:v);for(m in e){var g=e[m],E=t[m];n[m]=E instanceof Array?u(E,y):g+(E-g)*y}if(null!==h&&h.call(n,y),1==v){if(!(0<r)){for(null!==f&&f.call(n),v=0,y=d.length;v<y;v++)d[v].start(w);return!1}for(m in isFinite(r)&&r--,o)e[m]=o[m];s=w+a}return!0}},TWEEN.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return 1>(n*=2)?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return 1>(n*=2)?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return 1>(n*=2)?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return 1>(n*=2)?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:1>(n*=2)?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return 1>(n*=2)?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||1>t?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin(2*(n-e)*Math.PI/.4))},Out:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||1>t?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin(2*(n-e)*Math.PI/.4)+1)},InOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||1>t?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),1>(n*=2)?-.5*t*Math.pow(2,10*(n-=1))*Math.sin(2*(n-e)*Math.PI/.4):.5*t*Math.pow(2,-10*(n-=1))*Math.sin(2*(n-e)*Math.PI/.4)+1)}},Back:{In:function(n){return n*n*(2.70158*n-1.70158)},Out:function(n){return--n*n*(2.70158*n+1.70158)+1},InOut:function(n){return 1>(n*=2)?.5*n*n*(3.5949095*n-2.5949095):.5*((n-=2)*n*(3.5949095*n+2.5949095)+2)}},Bounce:{In:function(n){return 1-TWEEN.Easing.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return.5>n?.5*TWEEN.Easing.Bounce.In(2*n):.5*TWEEN.Easing.Bounce.Out(2*n-1)+.5}}},TWEEN.Interpolation={Linear:function(n,e){var t=n.length-1,o=t*e,i=Math.floor(o),r=TWEEN.Interpolation.Utils.Linear;return 0>e?r(n[0],n[1],o):1<e?r(n[t],n[t-1],t-o):r(n[i],n[i+1>t?t:i+1],o-i)},Bezier:function(n,e){var t,o=0,i=n.length-1,r=Math.pow,a=TWEEN.Interpolation.Utils.Bernstein;for(t=0;t<=i;t++)o+=r(1-e,i-t)*r(e,t)*n[t]*a(i,t);return o},CatmullRom:function(n,e){var t=n.length-1,o=t*e,i=Math.floor(o),r=TWEEN.Interpolation.Utils.CatmullRom;return n[0]===n[t]?(0>e&&(i=Math.floor(o=t*(1+e))),r(n[(i-1+t)%t],n[i],n[(i+1)%t],n[(i+2)%t],o-i)):0>e?n[0]-(r(n[0],n[0],n[1],n[1],-o)-n[0]):1<e?n[t]-(r(n[t],n[t],n[t-1],n[t-1],o-t)-n[t]):r(n[i?i-1:0],n[i],n[t<i+1?t:i+1],n[t<i+2?t:i+2],o-i)},Utils:{Linear:function(n,e,t){return(e-n)*t+n},Bernstein:function(n,e){var t=TWEEN.Interpolation.Utils.Factorial;return t(n)/t(e)/t(n-e)},Factorial:function(){var n=[1];return function(e){var t,o=1;if(n[e])return n[e];for(t=e;1<t;t--)o*=t;return n[e]=o}}(),CatmullRom:function(n,e,t,o,i){var r=i*i;return(2*e-2*t+(n=.5*(t-n))+(o=.5*(o-e)))*i*r+(-3*e+3*t-2*n-o)*r+n*i+e}}};var iconWrap,IconVideo=function(){var n=function(n){this.srcs=n.srcs,this.container=n.container,this.width=n.width,this.height=n.height,this.container.append('<video width="'+this.width+'" height="'+this.height+';" muted loop preload=auto />'),this.container.css("border","10ps solid red"),this.video=this.container.find("video");for(var e=0;e<this.srcs.length;e++)this.video.append('<source src="'+this.srcs[e].src+'" type="'+this.srcs[e].type+'">');this.video.css({transition:"transform 0.4s ease-in-out",transform:"scale(1,1)"}),this.onLoad=n.onLoad;var t=this;this.video.on("loadeddata",(function(){this.play(),t.onLoad&&t.onLoad()}))};return n.prototype.hoverOn=function(){this.video.css("transform","scale(1.1, 1.1)")},n.prototype.hoverOff=function(){this.video.css("transform","scale(1,1)")},n.prototype.update=function(){},n.prototype.onLoad=function(){},n}(),IconWrapper=function(){function n(){c.animationId=requestAnimationFrame(n),e()}function e(){if(TWEEN.update(),o(),!F&&R){var n=.3*(T.y-($(window).scrollTop()+window.innerHeight/2));if(u.position.y=a(u.position.y,n,.4),u.lookAt(h.position),A){var e=new THREE.Quaternion;e.setFromAxisAngle(new THREE.Vector3(0,1,0),.01*M),h.quaternion.multiply(e)}if("meteorite"===f||"quasibrick"===f||"green_light"===f){var t=new THREE.Quaternion;t.multiply(h.quaternion).multiply(c.modelIncrementQuaternion),h.quaternion.slerp(t,.7)}h.update(),renderer.render(d,u)}}function t(){if(S&&!W){var n=l.offset(),e=$(window).scrollTop()+.5*window.innerHeight,o=n.top+.5*v;if(Math.abs(e-o)>.5*window.innerHeight+b){var i=$(window).scrollTop(),a={x1:0,y1:i,x2:window.innerWidth,y2:i+window.innerHeight},s=[];$(".parallax-content").children().each((function(){var n=$(this).offset(),e={x1:n.left,y1:n.top,x2:n.left+$(this).width(),y2:n.top+$(this).height()};if(r(e,a)){var t=Math.min(Math.max(e.y1,a.y1),a.y2),o=Math.max(Math.min(e.y2,a.y2),a.y1);s.push({x1:e.x1,y1:t,x2:e.x2,y2:o})}}));for(var u,d,p=[],h=0;h<s.length;h++){var f=s[h],w={x1:0,y1:f.y1,x2:f.x1,y2:f.y2},m={x1:f.x2,y1:f.y1,x2:window.innerWidth,y2:f.y2};w.area=(w.x2-w.x1)*(w.y2-w.y1),m.area=(m.x2-m.x1)*(m.y2-m.y1),p.push(w),p.push(m)}if(p.sort((function(n,e){return e.area-n.area})),0===p.length)u=a.x1+Math.random()*(a.x2-a.x1),d=a.y1+Math.random()*(a.y2-a.y1);else{var y=p[0];u=y.x1+.5*(y.x2-y.x1),d=y.y1+.5*(y.y2-y.y1)}x.set(u,d),c.animateToTarget((function(){setTimeout((function(){t()}),100)}))}}}function o(){var n=$(window).scrollTop(),e=!1;T.y+.5*v<n&&(e=!0);var t=!1;T.y-.5*v>n+window.innerHeight&&(t=!0),R=!e&&!t}function i(n,e,t,o){return t*(n/=o)*n+e}function r(n,e){return!(e.x1>n.x2||e.x2<n.x1||e.y1>n.y2||e.y2<n.y1)}function a(n,e,t){return n+t*(e-n)}function s(n,e,t,o,i){return o+(n-e)/(t-e)*(i-o)}var c,u,d,l,p,h,f,w=320,v=320,m=0,y=0,g=0,E=!1,x={x:0,y:0,set:function(n,e){this.x=n,this.y=e},distanceTo:function(n){return Math.sqrt(Math.pow(n.x-this.x,2)+Math.pow(n.y-this.y,2))}},T={x:0,y:0,set:function(n,e){this.x=n,this.y=e}},b=120,M=1,I=new TWEEN.Tween,W=!1,S=!0,A=!0,R=!1,O=0,H=0,F=!1,C=function(){},N=function(e,t,o){switch(c=this,this.modes=["compass","meteorite","quasibrick","green_light","versailles_gaze","ice_scan"],f=e,void 0!==t&&(w=t),void 0!==o&&(v=o),e){case"compass":600,p=800;break;case"meteorite":case"quasibrick":case"green_light":case"versailles_gaze":window.modelReady=!1,670,p=700,this.setAutoSpin(!1),this.modelRotationSpeed=.003,this.modelIncrementQuaternion=new THREE.Quaternion,this.modelIncrementQuaternion.setFromAxisAngle(new THREE.Vector3(0,1,0),this.modelRotationSpeed);break;case"ice_scan":F=!0,window.modelReady=!1}if(F?$("#wrapper .inner-wrap").append('<div id="compass-wrapper" style="z-index: 1000; width: '+w+"px;height: "+v+'px;"></div>'):$("#wrapper .inner-wrap").append('<div id="compass-wrapper" style="width: '+w+"px;height: "+v+'px; z-index: 200;"></div>'),l=$("#compass-wrapper"),T.x=$("#compass-wrapper").offset().left,T.y=$("#compass-wrapper").offset().top,this.positionCentered(),l.fadeTo(0,0),F){if("ice_scan"===f)h=new IconVideo({container:l,srcs:[{src:"https://olafureliasson-net.fra1.cdn.digitaloceanspaces.com/iceScan/icescan_mov.mov",type:"video/quicktime;codecs=hvc1"},{src:"https://olafureliasson-net.fra1.cdn.digitaloceanspaces.com/iceScan/icescan_webm.webm",type:"video/webm"},{src:"https://olafureliasson-net.fra1.cdn.digitaloceanspaces.com/iceScan/icescan_final_mp4.mp4",type:"video/mp4"},{src:"https://olafureliasson-net.fra1.cdn.digitaloceanspaces.com/iceScan/icescan_final_ogv.ogv",type:"video/ogg"}],width:w,height:v,onLoad:function(){c.onScrollStop(),l.fadeTo(750,1,(function(){window.modelReady=!0}))}})}else{var i=60,r=w/v,a=5,s=4e3;if((u=new THREE.PerspectiveCamera(i,r,a,s)).position.set(0,0,p),d=new THREE.Scene,renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(w,v),renderer.setClearColor(0,0),$(l).append(renderer.domElement),"compass"===f){var m=new THREE.AmbientLight(7368816);d.add(m);var y=new THREE.PointLight(15658734,1,1e4);y.position=u.position.clone(),y.position.y+=p/20,d.add(y)}switch(f){case"compass":h=new IconCompass(d,300),l.fadeTo(750,1),c.onScrollStop();break;case"meteorite":(h=new IconMeteorite(d,300)).onLoad=function(){c.onScrollStop(),l.fadeTo(750,1,(function(){window.modelReady=!0}))};break;case"quasibrick":(h=new IconQuasibrick(d,300)).onLoad=function(){c.onScrollStop(),l.fadeTo(750,1,(function(){window.modelReady=!0}))};break;case"green_light":(h=new IconGreenLight(d,300)).onLoad=function(){c.onScrollStop(),l.fadeTo(750,1,(function(){window.modelReady=!0}))};break;case"versailles_gaze":(h=new IconVersaillesGaze(d,300,u)).onLoad=function(){c.onScrollStop(),l.fadeTo(750,1,(function(){window.modelReady=!0}))}}d.add(h)}l.css("cursor","pointer"),$(document).on("mousemove",c.onMouseMove),l.on("mouseenter",c.onMouseEnter).on("mouseleave",c.onMouseLeave).on("mousedown",c.onMouseDown),$(window).on("scroll",c.onScroll).on("scrollstop",c.onScrollStop).on("debouncedresize",c.onDebouncedResize),n()};return N.prototype={constructor:N,onScroll:function(){O=H,H=$(document).scrollTop(),H>O?1:-1},onScrollStop:function(){o(),t()},onDebouncedResize:function(){window.autoStart&&c.animateToCenter()},onMouseMove:function(n){var e=l.offset();switch(e.left+=w/2,e.top+=v/2,g=m,y,m=(n.pageX-e.left)/(window.innerWidth/2),y=(n.pageY-e.top)/(window.innerHeight/2),f){case"compass":if(M=m>g?1:-1,E)h.setLerpFactor(.2),targetQuaternionY=new THREE.Quaternion,targetQuaternionX=new THREE.Quaternion;else{h.setLerpFactor(.1);var t=.002,o=.002,i=m*window.innerWidth*t,r=y*window.innerHeight*o,a=new THREE.Quaternion;a.setFromAxisAngle(new THREE.Vector3(0,1,0),i);var c=new THREE.Quaternion;c.setFromAxisAngle(new THREE.Vector3(1,0,0),r),targetQuaternionY=a,targetQuaternionX=c}h.setTargetQuaternions(targetQuaternionX,targetQuaternionY);break;case"meteorite":case"quasibrick":case"green_light":var u=s(new THREE.Vector2(m,0).length(),0,1,0,.04);u=Math.max(Math.min(u,.015),.005);var d=new THREE.Vector3(0,m,0);d.normalize();var p=new THREE.Quaternion;p.setFromAxisAngle(d,u),this.modelIncrementQuaternion=p;break;case"versailles_gaze":h.onMouseMove(m,y)}},onMouseEnter:function(){E||(E=!0,void 0!==h.hoverOn&&h.hoverOn())},onMouseLeave:function(){E&&(E=!1,void 0!==h.hoverOff&&h.hoverOff())},onMouseDown:function(){C(),void 0!==h.onClick&&h.onClick(),$(this).unbind("mousedown")},onClick:function(n){C=n},animateToTarget:function(n){var e=l.offset(),t={x:e.left+.5*w,y:e.top+.5*v},o=x.distanceTo(t),r=Math.min(Math.max(3.5*o,2e3),4e3);Math.abs(x.x-t.x);W=!0,I.stop(),I=new TWEEN.Tween({t:0}).to({t:1},r).easing(TWEEN.Easing.Quartic.InOut).onUpdate((function(){var n=i(this.t,0,1,1),e=a(t.x,x.x,this.t),o=a(t.y,x.y,n);T.set(e,o),$(l).offset({left:e-.5*w,top:o-.5*v})})).onComplete((function(){W=!1,void 0!==n&&n()})).start()},animateToCenter:function(n){if(F||void 0!==renderer&&void 0!==renderer.domElement){S=!1,l.css("cursor","default"),x.x=.5*window.innerWidth,x.y=$(window).scrollTop()+.5*window.innerHeight,I.stop();var e=l.offset(),t={x:e.left+.5*w,y:e.top+.5*v};Math.abs(x.x-t.x);W=!0,I=new TWEEN.Tween({t:0}).to({t:1},1e3).easing(TWEEN.Easing.Quadratic.InOut).onUpdate((function(){var n=a(t.x,x.x,this.t),e=a(t.y,x.y,this.t);T.set(n,e),$(l).offset({left:n-.5*w,top:e-.5*v})})).onComplete((function(){W=!1;var e=$(window).scrollTop(),t=l.offset();l.css({position:"fixed",top:t.top-e+"px"}),void 0!==n&&n()})).start()}},setToCenter:function(){S=!1,l.css("cursor","default"),x.x=.5*window.innerWidth,x.y=$(window).scrollTop()+.5*window.innerHeight,T.set(x.x,x.y),$(l).offset({left:x.x-.5*w,top:x.y-.5*v})},positionCentered:function(){var n=.5*(window.innerHeight-v),e=.5*(window.innerWidth-w);x.set(.5*window.innerWidth,.5*window.innerHeight),T.set(.5*window.innerWidth,.5*window.innerHeight),l.css({position:"absolute",top:n+"px",left:e+"px"}),l.find("canvas").css("cursor","auto")},positionFree:function(n,e){n=Math.round(n),e=Math.round(e);var t=n+.5*l.width(),o=e+.5*l.height();x.set(t,o),T.set(t,o),l.css({position:"absolute",top:e+"px",bottom:"",left:n+"px",width:w,height:v})},setAutoSpin:function(n){A=n},getMode:function(){return f},cleanUp:function(){cancelAnimationFrame(this.animationId),$(document).off("mousemove",c.onMouseMove),l.off("mouseenter",c.onMouseEnter).off("mouseleave",c.onMouseLeave).off("mousedown",c.onMouseDown),$(window).off("scroll",c.onScroll).off("scrollstop",c.onScrollStop).off("debouncedresize",c.onDebouncedResize),F||(d.remove(h),d=null,u=null,renderer=null),delete h,l.remove()}},N}();isMobile.any?(0!==$("#ua-index").length&&$(".page").css("height","100%"),$("#mobile-message").show()):spawnIcon();